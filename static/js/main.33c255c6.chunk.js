(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],{11:function(e,t,a){},12:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),c=a(4),r=a.n(c),o=(a(11),a(2)),i=(a(12),a(0));var l=function(){return Object(i.jsx)("footer",{className:"footer",children:Object(i.jsx)("p",{className:"footer__copyright",children:"\xa9 2021 Around The U.S."})})};var u=function(){return Object(i.jsx)("header",{className:"header",children:Object(i.jsx)("div",{className:"header__logo"})})};var p=function(e){return Object(i.jsx)("section",{className:"popup popup_type_".concat(e.name," ").concat(e.isOpen?"popup_opened":""),children:Object(i.jsxs)("div",{className:"popup__container",children:[Object(i.jsx)("button",{className:"button popup__close-button","aria-label":"close button",onClick:e.onClose}),Object(i.jsxs)("form",{className:"popup__form popup__form_type_".concat(e.name),children:[Object(i.jsx)("h2",{className:"popup__title",children:"".concat(e.title)}),e.children,Object(i.jsx)("button",{type:"submit",name:"submit",className:"button popup__button popup__button_disabled",disabled:!0,children:"Save"})]})]})})};var d=function(e){return Object(i.jsx)("section",{className:"popup popup_type_img ".concat(e.isOpen?"popup_opened":""),children:Object(i.jsxs)("div",{className:"popup__container",children:[Object(i.jsx)("button",{className:"button popup__close-button","aria-label":"close button",onClick:e.onClose}),Object(i.jsx)("img",{className:"popup__image",src:e.src,alt:"no image"}),Object(i.jsx)("p",{className:"popup__caption"})]})})},j=a(5),b=a(6),h=new(function(){function e(t){Object(j.a)(this,e),this._baseUrl=t.baseUrl,this._headers=t.headers}return Object(b.a)(e,[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"getUserInfo",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then((function(t){return e._getResponseData(t)}))}},{key:"getCards",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then((function(t){return e._getResponseData(t)}))}},{key:"updateProfile",value:function(e){var t=this,a=e.userData;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:a.name,about:a.job})}).then((function(e){return t._getResponseData(e)}))}},{key:"addNewCard",value:function(e){var t=this,a=e.cardData;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:a.name,link:a.link})}).then((function(e){return t._getResponseData(e)}))}},{key:"deleteCard",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return t._getResponseData(e)}))}},{key:"changeLikes",value:function(e,t){var a=this;return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:t,headers:this._headers}).then((function(e){return a._getResponseData(e)}))}},{key:"updateAvatar",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((function(e){return t._getResponseData(e)}))}}]),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"79e7d2e5-160a-498a-95ef-9351a4cf4856","Content-Type":"application/json"}});var _=function(e){return Object(i.jsxs)("li",{className:"card",children:[Object(i.jsx)("button",{type:"button",className:"button card__delete-button","aria-label":"delete button",style:{display:"block"}}),Object(i.jsx)("img",{className:"card__picture",src:e.card.link,alt:e.card.name,onClick:function(){e.onCardClick(e.card)}}),Object(i.jsxs)("div",{className:"card__caption",children:[Object(i.jsx)("p",{className:"card__title",children:e.card.name}),Object(i.jsxs)("div",{className:"card__like-container",children:[Object(i.jsx)("button",{type:"button",className:"button card__like-button","aria-label":"like button"}),Object(i.jsx)("span",{className:"card__like-counter",children:e.card.likes.length})]})]})]})};var m=function(e){var t=Object(n.useState)(),a=Object(o.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(),l=Object(o.a)(r,2),u=l[0],j=l[1],b=Object(n.useState)(),m=Object(o.a)(b,2),O=m[0],f=m[1],x=Object(n.useState)([]),v=Object(o.a)(x,2),N=v[0],g=v[1];return Object(n.useEffect)((function(){h.getUserInfo().then((function(e){c(e.name),j(e.about),f(e.avatar)})),h.getCards().then((function(e){g(e)}))}),[s,u,O]),Object(i.jsxs)("main",{className:"main",children:[Object(i.jsxs)("section",{className:"profile",children:[Object(i.jsx)("div",{className:"profile__avatar",onClick:e.onEditAvatarClick,style:{backgroundImage:"url(".concat(O,")")},children:Object(i.jsx)("div",{className:"profile__avatar-cover"})}),Object(i.jsxs)("div",{className:"profile__title",children:[Object(i.jsx)("span",{className:"profile__name",children:s}),Object(i.jsx)("button",{className:"button profile__edit-button","aria-label":"edit button",onClick:e.onEditProfileClick,children:Object(i.jsx)("div",{className:"profile__edit-image"})})]}),Object(i.jsx)("p",{className:"profile__job",children:u}),Object(i.jsx)("button",{className:"button profile__add-button","aria-label":"add button",onClick:e.onAddPlaceClick,children:Object(i.jsx)("div",{className:"profile__add-image"})})]}),Object(i.jsx)("section",{children:Object(i.jsx)("ul",{className:"cards-grid",children:N.map((function(t){return Object(i.jsx)(_,{card:t,onCardClick:e.onCardClick},t._id)}))})}),Object(i.jsx)(p,{name:"update-avatar",title:"Change profile picture",isOpen:e.isEditAvatarPopupOpen,onClose:e.onClose,children:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("input",{type:"url",className:"popup__input",name:"avatar",defaultValue:"",placeholder:"Avatar link",required:!0}),Object(i.jsx)("span",{className:"popup__error"})]})}),Object(i.jsx)(p,{name:"edit",title:"Edit profile",isOpen:e.isEditProfilePopupOpen,onClose:e.onClose,children:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("input",{type:"text",className:"popup__input",name:"name",defaultValue:"",minLength:"2",maxLength:"40",required:!0}),Object(i.jsx)("span",{className:"popup__error"}),Object(i.jsx)("input",{type:"text",className:"popup__input",name:"job",defaultValue:"",minLength:"2",maxLength:"200",required:!0}),Object(i.jsx)("span",{className:"popup__error"})]})}),Object(i.jsx)(p,{name:"add",title:"New place",isOpen:e.isAddPlacePopupOpen,onClose:e.onClose,children:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("input",{type:"text",className:"popup__input",name:"name",defaultValue:"",placeholder:"Title",minLength:"1",maxLength:"30",required:!0}),Object(i.jsx)("span",{className:"popup__error"}),Object(i.jsx)("input",{type:"url",className:"popup__input",name:"link",defaultValue:"",placeholder:"Image link",required:!0}),Object(i.jsx)("span",{className:"popup__error"})]})}),Object(i.jsx)(p,{name:"delete",title:"Are you sure?",isOpen:!1,onClose:e.onClose}),Object(i.jsx)(d,{src:e.selectedCard,isOpen:!!e.selectedCard,onClose:e.onClose})]})};var O=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(!1),r=Object(o.a)(c,2),p=r[0],d=r[1],j=Object(n.useState)(!1),b=Object(o.a)(j,2),h=b[0],_=b[1],O=Object(n.useState)(null),f=Object(o.a)(O,2),x=f[0],v=f[1];return Object(i.jsx)("div",{className:"page",children:Object(i.jsxs)("div",{className:"page__content",children:[Object(i.jsx)(u,{}),Object(i.jsx)(m,{onEditProfileClick:function(){s(!0)},onAddPlaceClick:function(){d(!0)},onEditAvatarClick:function(){_(!0)},onCardClick:function(e){v(e.link)},onClose:function(){_(!1),s(!1),d(!1),v(null)},isEditProfilePopupOpen:a,isAddPlacePopupOpen:p,isEditAvatarPopupOpen:h,selectedCard:x}),Object(i.jsx)(l,{})]})})},f=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,15)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(O,{})}),document.getElementById("root")),f()}},[[14,1,2]]]);
//# sourceMappingURL=main.33c255c6.chunk.js.map